(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&l(u)}).observe(document,{childList:!0,subtree:!0});function p(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function l(o){if(o.ep)return;o.ep=!0;const c=p(o);fetch(o.href,c)}})();window.addEventListener("DOMContentLoaded",()=>{const h=document.querySelectorAll(".tabheader__item"),a=document.querySelectorAll(".tabcontent"),p=document.querySelector(".tabheader__items");function l(){a.forEach(e=>{e.classList.add("hide"),e.classList.remove("show","fade")}),h.forEach(e=>{e.classList.remove("tabheader__item_active")})}function o(e=0){a[e].classList.add("show","fade"),a[e].classList.remove("hide"),h[e].classList.add("tabheader__item_active")}l(),o(),p.addEventListener("click",e=>{const t=e.target;t&&t.classList.contains("tabheader__item")&&h.forEach((s,i)=>{t==s&&(l(),o(i))})});const c="2026-04-15";function u(e){let t,s,i,r;const n=Date.parse(e)-new Date;return n<=0?(t=0,s=0,i=0,r=0):(t=Math.floor(n/(1e3*60*60*24)),s=Math.floor(n/(1e3*60*60)%24),i=Math.floor(n/1e3/60%60),r=Math.floor(n/1e3%60)),{total:n,days:t,hours:s,minutes:i,seconds:r}}function f(e){return e>=0&&e<10?`0${e}`:e}function M(e,t){const s=document.querySelector(e),i=s.querySelector("#days"),r=s.querySelector("#hours"),n=s.querySelector("#minutes"),L=s.querySelector("#seconds"),_=setInterval(b,1e3);b();function b(){const m=u(t);i.innerHTML=f(m.days),r.innerHTML=f(m.hours),n.innerHTML=f(m.minutes),L.innerHTML=f(m.seconds),m.total<=0&&clearInterval(_)}}M(".timer",c);const S=document.querySelectorAll("[data-modal]"),d=document.querySelector(".modal");S.forEach(e=>{e.addEventListener("click",v)});function v(){d.classList.add("show"),d.classList.remove("hide"),document.body.style.overflow="hidden",clearInterval(T)}function y(){d.classList.add("hide"),d.classList.remove("show"),document.body.style.overflow=""}d.addEventListener("click",e=>{(e.target===d||e.target.getAttribute("data-close")=="")&&y()}),document.addEventListener("keydown",e=>{e.code==="Escape"&&d.classList.contains("show")&&y()});const T=setTimeout(v,5e4);function w(){window.pageYOffset+document.documentElement.clientHeight>=document.documentElement.scrollHeight-1&&(v(),window.removeEventListener("scroll",w))}window.addEventListener("scroll",w);class q{constructor(t,s,i,r,n,L,..._){this.src=t,this.alt=s,this.title=i,this.descr=r,this.price=n,this.classes=_,this.parent=document.querySelector(L),this.transfer=3.65,this.changeToPLN()}changeToPLN(){this.price=this.price*this.transfer}render(){const t=document.createElement("div");this.classes.length===0?(this.element="menu__item",t.classList.add(this.element)):this.classes.forEach(s=>t.classList.add(s)),t.innerHTML=`
                <img src=${this.src} alt=${this.alt} />
                <h3 class="menu__item-subtitle">${this.title}</h3>
                <div class="menu__item-descr">
                  ${this.descr}
                </div>
                <div class="menu__item-divider"></div>
                <div class="menu__item-price">
                  <div class="menu__item-cost">Price:</div>
                  <div class="menu__item-total"><span>${this.price}</span> pln/day</div>
                </div> 
      `,this.parent.append(t)}}(async e=>{const t=await fetch(e);if(!t.ok)throw new Error(`Could not fetch ${e}, status: ${t.status}`);return await t.json()})("http://localhost:3000/menu").then(e=>{e.forEach(({img:t,altimg:s,title:i,descr:r,price:n})=>{new q(t,s,i,r,n,".menu .container").render()})});const O=document.querySelectorAll("form"),g={loading:"icons/spinner.svg",success:"Thank you! We will contact you soon",failure:"Ops! Something gone wrong..."};O.forEach(e=>{C(e)});const P=async(e,t)=>await(await fetch(e,{method:"POST",headers:{"Content-type":"application/json"},body:t})).json();function C(e){e.addEventListener("submit",t=>{t.preventDefault();const s=document.createElement("img");s.src=g.loading,s.style.cssText=`
        display: block;
        margin: 0 auto;
      `,e.insertAdjacentElement("afterend",s);const i=new FormData(e),r=JSON.stringify(Object.fromEntries(i.entries()));P("http://localhost:3000/requests",r).then(n=>{console.log(n),E(g.success),s.remove()}).catch(()=>{E(g.failure)}).finally(()=>{e.reset()})})}function E(e){const t=document.querySelector(".modal__dialog");t.classList.add("hide"),v();const s=document.createElement("div");s.classList.add("modal__dialog"),s.innerHTML=`
    <div class="modal__content">
      <div class="modal__close" data-close>&times;</div>
      <div class="modal__title">${e}</div>
    </div>
    `,document.querySelector(".modal").append(s),setTimeout(()=>{s.remove(),t.classList.add("show"),t.classList.remove("hide"),y()},4e3)}});
//# sourceMappingURL=index.js.map
