{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["'use strict';\n\nwindow.addEventListener('DOMContentLoaded', () => {\n  // Tabs\n  const tabs = document.querySelectorAll('.tabheader__item');\n  const tabsContent = document.querySelectorAll('.tabcontent');\n  const tabsParent = document.querySelector('.tabheader__items');\n\n  function hideTabContent() {\n    tabsContent.forEach(item => {\n      item.classList.add('hide');\n      item.classList.remove('show', 'fade');\n    });\n\n    tabs.forEach(item => {\n      item.classList.remove('tabheader__item_active');\n    });\n  }\n\n  function showTabContent(i = 0) {\n    tabsContent[i].classList.add('show', 'fade');\n    tabsContent[i].classList.remove('hide');\n    tabs[i].classList.add('tabheader__item_active');\n  }\n\n  hideTabContent();\n  showTabContent();\n\n  tabsParent.addEventListener('click', event => {\n    const target = event.target;\n\n    if (target && target.classList.contains('tabheader__item')) {\n      tabs.forEach((item, i) => {\n        if (target == item) {\n          hideTabContent();\n          showTabContent(i);\n        }\n      });\n    }\n  });\n\n  // Timer\n\n  const deadline = '2026-04-15';\n\n  function getTimeRemaining(endtime) {\n    let days, hours, minutes, seconds;\n    const t = Date.parse(endtime) - new Date();\n\n    if (t <= 0) {\n      days = 0;\n      hours = 0;\n      minutes = 0;\n      seconds = 0;\n    } else {\n      days = Math.floor(t / (1000 * 60 * 60 * 24));\n      hours = Math.floor((t / (1000 * 60 * 60)) % 24);\n      minutes = Math.floor((t / 1000 / 60) % 60);\n      seconds = Math.floor((t / 1000) % 60);\n    }\n\n    return {\n      total: t,\n      days: days,\n      hours: hours,\n      minutes: minutes,\n      seconds: seconds,\n    };\n  }\n\n  function getZero(num) {\n    if (num >= 0 && num < 10) {\n      return `0${num}`;\n    } else {\n      return num;\n    }\n  }\n\n  function setClock(selector, endtime) {\n    const timer = document.querySelector(selector);\n    const days = timer.querySelector('#days');\n    const hours = timer.querySelector('#hours');\n    const minutes = timer.querySelector('#minutes');\n    const seconds = timer.querySelector('#seconds');\n    const timeInterval = setInterval(updateClock, 1000);\n\n    updateClock();\n\n    function updateClock() {\n      const t = getTimeRemaining(endtime);\n      days.innerHTML = getZero(t.days);\n      hours.innerHTML = getZero(t.hours);\n      minutes.innerHTML = getZero(t.minutes);\n      seconds.innerHTML = getZero(t.seconds);\n\n      if (t.total <= 0) {\n        clearInterval(timeInterval);\n      }\n    }\n  }\n  setClock('.timer', deadline);\n\n  // Modal\n\n  const btnModalOpen = document.querySelectorAll('[data-modal]');\n\n  const modalWindow = document.querySelector('.modal');\n\n  btnModalOpen.forEach(button => {\n    button.addEventListener('click', openModal);\n  });\n\n  function openModal() {\n    modalWindow.classList.add('show');\n    modalWindow.classList.remove('hide');\n    document.body.style.overflow = 'hidden';\n    clearInterval(modalTimerId);\n  }\n\n  function closeModal() {\n    modalWindow.classList.add('hide');\n    modalWindow.classList.remove('show');\n    document.body.style.overflow = '';\n  }\n\n  modalWindow.addEventListener('click', event => {\n    if (\n      event.target === modalWindow ||\n      event.target.getAttribute('data-close') == ''\n    ) {\n      closeModal();\n    }\n  });\n\n  document.addEventListener('keydown', event => {\n    if (event.code === 'Escape' && modalWindow.classList.contains('show')) {\n      closeModal();\n    }\n  });\n\n  const modalTimerId = setTimeout(openModal, 50000);\n\n  function showModalByScroll() {\n    if (\n      window.pageYOffset + document.documentElement.clientHeight >=\n      document.documentElement.scrollHeight - 1\n    ) {\n      openModal();\n      window.removeEventListener('scroll', showModalByScroll);\n    }\n  }\n\n  window.addEventListener('scroll', showModalByScroll);\n\n  // Using Classes for cards\n\n  class MenuCard {\n    constructor(src, alt, title, descr, price, parentSelector, ...classes) {\n      this.src = src;\n      this.alt = alt;\n      this.title = title;\n      this.descr = descr;\n      this.price = price;\n      this.classes = classes;\n      this.parent = document.querySelector(parentSelector);\n      this.transfer = 3.65;\n      this.changeToPLN();\n    }\n\n    changeToPLN() {\n      this.price = this.price * this.transfer;\n    }\n\n    render() {\n      const element = document.createElement('div');\n      if (this.classes.length === 0) {\n        this.element = 'menu__item';\n        element.classList.add(this.element);\n      } else {\n        this.classes.forEach(className => element.classList.add(className));\n      }\n\n      element.innerHTML = `\n                <img src=${this.src} alt=${this.alt} />\n                <h3 class=\"menu__item-subtitle\">${this.title}</h3>\n                <div class=\"menu__item-descr\">\n                  ${this.descr}\n                </div>\n                <div class=\"menu__item-divider\"></div>\n                <div class=\"menu__item-price\">\n                  <div class=\"menu__item-cost\">Price:</div>\n                  <div class=\"menu__item-total\"><span>${this.price}</span> pln/day</div>\n                </div> \n      `;\n      this.parent.append(element);\n    }\n  }\n\n  const getResource = async url => {\n    const res = await fetch(url);\n\n    if (!res.ok) {\n      throw new Error(`Could not fetch ${url}, status: ${res.status}`);\n    }\n\n    return await res.json();\n  };\n\n  axios.get('http://localhost:3000/menu').then(data =>\n    data.data.forEach(({ img, altimg, title, descr, price }) => {\n      new MenuCard(\n        img,\n        altimg,\n        title,\n        descr,\n        price,\n        '.menu .container'\n      ).render();\n    })\n  );\n\n  // Forms\n\n  const forms = document.querySelectorAll('form');\n\n  const message = {\n    loading: 'icons/spinner.svg',\n    success: 'Thank you! We will contact you soon',\n    failure: 'Ops! Something gone wrong...',\n  };\n\n  forms.forEach(item => {\n    bindPostData(item);\n  });\n\n  const postData = async (url, data) => {\n    const res = await fetch(url, {\n      method: 'POST',\n      headers: {\n        'Content-type': 'application/json',\n      },\n      body: data,\n    });\n\n    return await res.json();\n  };\n\n  function bindPostData(form) {\n    form.addEventListener('submit', e => {\n      e.preventDefault();\n\n      const statusMessage = document.createElement('img');\n      statusMessage.src = message.loading;\n      statusMessage.style.cssText = `\n        display: block;\n        margin: 0 auto;\n      `;\n      form.insertAdjacentElement('afterend', statusMessage);\n\n      const formData = new FormData(form);\n\n      const json = JSON.stringify(Object.fromEntries(formData.entries()));\n\n      postData('http://localhost:3000/requests', json)\n        .then(data => {\n          console.log(data);\n          showThanksModal(message.success);\n          statusMessage.remove();\n        })\n        .catch(() => {\n          showThanksModal(message.failure);\n        })\n        .finally(() => {\n          form.reset();\n        });\n    });\n  }\n\n  function showThanksModal(message) {\n    const prevModalDialog = document.querySelector('.modal__dialog');\n\n    prevModalDialog.classList.add('hide');\n    openModal();\n\n    const thanksModal = document.createElement('div');\n    thanksModal.classList.add('modal__dialog');\n    thanksModal.innerHTML = `\n    <div class=\"modal__content\">\n      <div class=\"modal__close\" data-close>&times;</div>\n      <div class=\"modal__title\">${message}</div>\n    </div>\n    `;\n\n    document.querySelector('.modal').append(thanksModal);\n    setTimeout(() => {\n      thanksModal.remove();\n      prevModalDialog.classList.add('show');\n      prevModalDialog.classList.remove('hide');\n      closeModal();\n    }, 4000);\n  }\n});\n"],"names":["tabs","tabsContent","tabsParent","hideTabContent","item","showTabContent","i","event","target","deadline","getTimeRemaining","endtime","days","hours","minutes","seconds","t","getZero","num","setClock","selector","timer","timeInterval","updateClock","btnModalOpen","modalWindow","button","openModal","modalTimerId","closeModal","showModalByScroll","MenuCard","src","alt","title","descr","price","parentSelector","classes","element","className","data","img","altimg","forms","message","bindPostData","postData","url","form","e","statusMessage","formData","json","showThanksModal","prevModalDialog","thanksModal"],"mappings":"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"}